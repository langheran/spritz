Extracting Parking Lot Structures from Aerial Photographs

Liang Cheng, Lihua Tong, Manchun Li, and Yongxue Liu

Abstract
A new method for the automatic extraction of parking lot structures from an aerial orthophoto is proposed which has two major stages. Line features of a parking lot are first extracted by using a line extraction method with principle orientation constraints which offers a reliable basis for the extraction of parking lots structures by emphasizing on the extraction of accurate parking line information. The structure of the parking lots are then determined from the extracted parking lines through a maximum intersection orientation method, parameter-estimating procedure, and a self-adaptive growth method. A comparative experiment is shown and the result indicates that the proposed method can effectively extract parking lot structures with high correctness, high-quality completeness, and good geometric accuracy.
Introduction
Parking lots, a necessity of the automobile society, have spread across downtown and suburban areas (Wang and Hanson, 1998; Onishi et al., 2010). With rapid urbanization, the number of parking lots is dramatically increasing; in many places, the capacity of the parking lots surpasses that of the buildings they serve (Davis et al., 2010a and 2010b). The parking lot has become a crucial factor in land-use and planning.
Parking lots are required to meet the minimum parking requirements (MPRs), which are attracting increasing concern (Franco et al., 2010). While the public is concerned with the quantity of parking space, parking lots are also associated with environmental problems such as vehicle pollution (Hahn and Pfeifer, 1994; Scoggins et al., 2007), the heat island effect (Xian and Crane, 2006; Weng et al., 2011), and rainfall runoff (Jakle and Sculle, 2004). Balancing the MPRs with the number of parking spaces is becoming a focus of research (Davis et al., 2010), and requires statistical information about existing parking lots and their distribution. This situation calls for the acquisition of accurate parking lot structures.
The detection of vacant parking spaces is an important activity for parking guidance and information systems (PGIS). Various techniques have been tried, all of which require information regarding parking lot structure usage (Yamada and Mizuno, 2001). Autonomous driving technologies require accurate knowledge of final parking positions (Gómez-Bravo et al., 2001; Li and Chang, 2003; Amarasinghe et al., 2007; Seo and Urmson, 2009). Although a parking lot structure plays a significant role in the above domains, parking lots are usually identified manually in aerial photographs. Many researches related to road extraction, sign extraction, and building extraction from aerial Jiangsu Provincial Key Laboratory of Geographic Information Science and Technology, Nanjing University, 163 Xianlin Avenue, Qixia District, Nanjing 210023, China (lcheng@nju.edu.cn).

imagery or other data have been reported (Youn et al., 2008; Mohammadzadeh and Zoej, 2010; Cheng et al., 2011). Meng et al. (2012) gave an object-oriented approach to detect residential land-use of buildings from aerial photography, lidar data, and road maps for urban land-use analysis. Yang et al. (2012) introduced an approach to extract road markings from mobile lidar point cloud. Although parking lots are et al. increasing awareness, there is little literature available about them (Lee and Lathrop, 2006). Some studies address the quantity of parking spaces. For instance, Shoup (2005) estimated that there are three to four spaces per vehicle in some urban settings. Delucchi (1997) multiplied building parking requirements with total building areas and determined that there were 125 to 200 million off-street parking spaces in America in 1991. Davis et al. (2010b) digitized parking lot orthophotos and estimated parking space quantity using a function of parking lot size, finding approximately 2.2 parking spaces per registered vehicle. However, the above studies are limited to statistical estimation methods and regional areas; this merely provides an approximate understanding of an area and neglects the distribution and quantity of regional parking lots, which significantly guide parking lot planning. Moreover, there is little previous work on the extraction of parking lot structure.
Wang and Hanson (1988) tried to extract parking lot structures using stereographs. They used intensity maps to identify the layout of individual parking spaces and elevation maps generated from stereographs to provide bumpy regions around vehicle locations. This method is suitable for densely populated parking lots; however, there are still some drawbacks. The generation of good feature correspondence for the elevation map remains difficult and unstable, and the structure extraction result is unsatisfactory for a parking space with few vehicles and poor-quality line markings.
Seo and Urmson (2009) proposed a hierarchical analysis approach for parking lot structure extraction using a single aerial image. In their method, canonical parking spaces are detected through low-level analysis; then, interpolation, extrapolation, and block prediction are used to identify parking lot structures. Finally, a filtering method is used for extracting parking spaces. The filtering strategy improves the extraction precision to some extent; however, problems occur for images with multiple principal orientations, high-contrast illumination, significant occlusions, and poor-quality line markings. Despite these challenges, it is worth studying how to extract parking lot structures automatically and precisely.
In order to extract and determine the parking lot structure, a basic understanding about it is indispensable. As shown in
Photogrammetric Engineering & Remote Sensing Vol. 80, No. 2, February 2014, pp. 151­160.
0099-1112/14/8002­151 © 2013 American Society for Photogrammetry
and Remote Sensing
doi: 10.14358/PERS.80.2.151

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

February 2014

151

(a)

(b)

Figure 1. Introduction: (a) A sample of parking lot structure, and (b) Flowchart of the proposed method.

Figure 1a, the basic components of a parking lot are parking lines, parking spaces, and parking lanes. Parking spaces mean the minimum units for a vehicle to park in. Parking lines refer to the painted lines between neighbored parking spaces. A series of consecutive parking spaces constitute a parking lane. As the distribution pattern of these basic components specify the structure of a parking lot, the solving of relevant parameters is necessary, including length, width, and orientation of each parking space, as well as, location and orientation of each parking lane. Due to the fact that only parking lines can be distinguished from aerial photographs, how to adequately identify and utilize these parking lines for the determination of parking lot structure is a problem worth researching.
In this paper, a new method for automatically extracting parking lot structure from an aerial orthophoto is presented. Parking lines are first extracted with principal orientation constraints, in which an initial line extraction and filtering procedure is conducted for the principal orientation. Then, the extracted parking lines are divided to different parking lanes using a maximum-intersection orientation method; on this basis, the parameters of the parking lot structure are calculated and a self-adaptive growth method is proposed for the determination of parking lot structure. The overall flowchart of this method is shown in Figure1b.
The remainder of the paper is organized as follows: the next Section shows the parking line extraction methods with principal orientation constraints, followed by the proposed parking lot structure determination method. The next Section presents three experimental cases and performance evaluation, followed by the Conclusions.
Parking Line Extraction
Since the presence of vehicles, obvious vehicle occlusion, and long-term wear of parking lines can be expected to lead to noise and reduce the number of useful line segments, parking line information extracted using the traditional Hough transform is insufficient. We use the traditional Hough transform to determine the principal orientations, and reapply the Hough transform using the determined principal orientations to make line extraction accurate, robust, and efficient.

Initial Line Extraction and Filtering for Principal Orientation As line extraction requires an edge image, we first compared some common edge detection operators and chose the Edison operator for its superior performance. The Hough transform is applied to the edge image for line segment extraction (Figure 2b). The following conditions are used to filter the line segments to determine the principal orientations.  1. Individual Line Filtering: Object-based multi-scale
segmentation (Benz et al., 2004) is first used for the segmentation of images; on this basis, a rule set is defined including mean spectral value, compact, elongation, and rectangularity. Through the use of k nearest neighbor classification method (Hastie and Tibshirani, 1996), the image is classified into vacant and non-vacant regions as shown in Figure 2c. Two indexes are used to filter the lines, i.e., the length and the ratio of its length within and outside the non-vacant regions. The lines are filtered out if they are too short and mainly locate on the non-vacant regions. Here the length threshold is set 1.5 m, and the ratio threshold is set 0.2. The filtering result is shown in Figure 2d.  2. Line Group Filtering: After Step 1, noise may still exist, e.g., A and B in Figure 2d. However, if we group the lines according to their angles, the number of lines in the groups corresponding to parking lines will be far more than that of groups corresponding to noise. In this way, the noise can be filtered out carefully; so, the lines in Figure 2d are grouped according to their angles. If the number of lines in a group is less than a small threshold, it is omitted. As the angles of noise lines present a random distribution pattern, the probability that they are equivalent is small. So a small threshold is easy to be set to filter the noise, and here it is set to 5.  3. Principal Orientation Obtaining: RANdom SAmple Consensus (RANSAC) (Fischler and Bolles, 1981) is used to determine the principal orientation of the line segments in each remaining group. The principal orientation of each group, shown as the solid lines in Figure 2d, is used for subsequent parking line extraction.

152 Februar y 2014

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

(a) (b) (c)

(d) (e)

(f)

Figure 2. Parking lines extraction with principal orientation constraints: (a) A parking lot, (b) Results of initial line detection, (c) Results of segmentation and classification, (d) Filtering results, (e) Line extraction with principal orientation constraints, and (f) Parking line filtering.

Parking Line Extraction with Principal Orientation Constraints
We reapply the Hough transform under the constraints of the principal orientations of the parking lines. Since small orientation errors may exist in the extracted parking lines, the principal orientations obtained are assigned a small threshold to form principal orientation intervals. Here the threshold is set ±2°, and larger thresholds can be set when the extracted parking lines are not so accurate. With the principal orientation constraints, two-dimensional accumulation-peak detection is transferred to one-dimensional peak detection through the process of Hough transformation. The following steps are followed.  1. We apply the Hough transform to the edge image and
establish the angle-accumulation space.  2. We select a principal orientation and search for the max-
imum value to obtain the peak P for this orientation.  3. We obtain line segments and endpoints corresponding
to P. As lines that are too short can hardly contribute to the solving of parking lot parameters, the line segments shorter than a threshold are omitted. Here the threshold is set 1.5 m and larger thresholds can be set when there are enough parking lines.  4. We transform the line points into Hough space and eliminate their influence on the accumulation matrix.  5. We set the accumulation values of P and its adjacent angles to 0.  6. We choose a new principal orientation and return to Step 2. After iterating through all the principal orientations, accurate parking lines are extracted as shown in Figure

2e.
Lines Filtering and Correction Figure 2e shows a few errors, which can be eliminated by the vacant region to non-vacant region ratio. Additionally, there are several line segments representing the same parking lines; they should be merged. They are grouped according to their orientations and distances. When several segments exist in a group, we fit them using the RANSAC algorithm, thus merging the parking lines as shown in Figure 2f. In the figure, some parking spaces locate symmetrically and the extracted lines span two adjacent parking lanes, presenting a far longer line than normal. Therefore, line segments whose lengths exceed the length of normal parking lines are divided into two parts at their midpoints. As length of parking lines can hardly exceed 7 m, it is set here as the length threshold.
Parking Lot Structure Determination
Parking Lanes Division For parking lines in the same group, a method based on maximum-intersection orientation is used for parking lanes division. We construct a semicircle with the midpoint of a random line as the center, and divide it into 12 arcs of 15° each. We extend the central line of each arc in both directions and record the number of its intersection with other lines. The arc with the largest number of intersections provides

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

February 2014

153

Figure 3. Parking lot structure determination: (a) Parking lane division, (b) Types of parking lanes, (c) Ideas of self-adaptive growing, (d) Parking lot structure extraction, and (e) Extracted parking lot structure using self-adaptive growth.

the maximum-intersection orientation. We record the maximum-intersection orientations of all extracted lines. The maximum-intersection orientation with the largest number of intersections overall is the principal orientation for all lines in this group. We create a straight line using the extension direction as its slope, and then calculate the distance between this line and the midpoints of all the lines in the group. We divide the parking lanes according to the distance values, as shown by the dotted lines in Figure 3a. Parking Lot Parameter Determination As referred in the Introduction, five parameters including length, width, and orientation of each parking space, and location, orientation of each parking lane are to be calculated with the extracted parking lines. The length, width, and orientation of consecutive parking spaces, as well as lane orientation, are essentially consistent; these parameters are calculated only once, with parking lane location calculated independently.
Since the parameters differ for different types of parking lanes, we use the angle between the parking lane and the parking space to categorize parking lanes into horizontal, vertical, and oblique types as shown in Figure 3b.
Parking lines belonging to a same parking lane can be used to solve the parking lane location and orientation. We fit a line to the midpoints of these parking lines. As the midpoints of

short lines can hardly reflect the real location of the parking

lane, here only the long parking lines are used. Considering

the fact that real parking lines are about 5 to 7 m in length, the

length threshold is set 4 m. When there are enough parking

lines, larger threshold can be set to obtain precise parameters.

The slope and intercept of this line are the orientation and

location of the lane, respectively. A new orientation is fit to the

orientations of several lanes, and its slope is considered their

common orientation.

We average the orientations of all parking lines to obtain

the parking space orientation. As the orientation is bi-direc-

tional, a sole orientation is confirmed according to parking

lanes. We determine whether any side of the parking lane is

another parking lane or the boundary of the parking lot; if

so, the parking space is said to be oriented toward that side.

We cluster the lengths of extracted parking lines and use the

average length of the largest cluster.

For horizontal and vertical parking lanes, we calculate the

distance between parallel parking lines and construct a dis-

tance matrix. In the matrix, the distance value occurring most

often is the width of parking space. For oblique parking lanes,

since an angle exists between the parking lane and the

parking

space,

the

parking

width

is

calculated

as

x

=

D sin(y)

,

where x is the length of parking space along the parking lane,

154 Februar y 2014

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

Figure 4. Experimental data: (a) Experiment area, (b) Parking lot A, (c) Parking lot B, and (d) Parking lot C.

D is the width of the parking space, and y is the angle between the parking lane and parking space.
Parking Lot Structure Determination
In order to determine the initial parking line for growth of parking lot structure, a hypothesis-verification procedure is conducted. The line segment whose length is closest to the parking line length is selected as the hypothetical initial parking line; on this basis, a pre-growing procedure is conducted bi-directionally within a certain distance, which is usually 3 to 5 times of the parking space width. If a growing parking line locates just near the extracted parking line, the hypothesis is confirmed; otherwise the next closest line to the parking line length is selected as the hypothesis and used for the verification. After obtaining the initial parking line, we extend the line both ways along the parking space orientation with the location and orientation line of the parking lane as reference data. When the length of the line is equal to the parking line length, an initial parking line is obtained; this is shown in gray in Figure 3c.
As shown in the top of Figure 3c, if an error exists in the extracted parking space width, the error will be enlarged with the growing procedure of parking lines. Nevertheless, if making good use of the extracted parking lines (middle portion of Figure 3c), the error will be limited effectively (bottom portion of Figure 3c). According to this plan, a self-adaptive growth procedure is proposed for parking lines. The initial parking lines as are taken as start points for adaptive growth, and new lines are grown bi-directionally along the parking

lane direction with parking space width as the interval. During the growing procedure, if the distance between a growing parking line and its closest parking line is within a small distance, they are considered to correspond to the same parking line. We then translate the growing line toward the extracted parking line, ensuring a minimum distance between them. Here the distance threshold is directly related to the precision of extracted parking space width. For safety's sake, it can be set a little large (in this work 0.2 m).
We define a rule to stop the self-adaptive growing process. Before the growing of each parking line, a width threshold is used to determine whether to grow. If there are no extracted parking lines in the width threshold value range, then the growing process is terminated; otherwise, it is continued. The width threshold should be set according to the image quality. Specifically, if obvious vehicle occlusion, long-term wear of parking lines, etc. exist in the image leading to the lack of parking lines, then a relative large width threshold is set; inversely, a small width threshold is set.
We connect the endpoints of each grown parking line on the side corresponding to parking space orientation, thus forming the separation lines between parking lanes as shown in Figure 3e.
Experiments
Experimental data The data used for this experiment are obtained from an orthophoto image with a resolution of 5 cm as shown in Figure 4a.

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

February 2014

155

The experimental area is about 1,500 m × 850 m in size, and encompasses several parking lots. Three parking lots, each having a distinct structure, are selected for this experiment, as shown in Figure 4. Parking lot A has parking lanes of different orientations, and is largely occupied with vehicles, leading to serious vehicle occlusion and shadow effects. Parking lot B shows relatively poor image quality due to variations in illumination and faint parking lines. In parking lane 1, densely packed vehicles lead to serious vehicle occlusion and shadows. In parking lanes 2 and 3, the vehicles are concentrated in the upper part, while the lower part is relatively vacant. Parking lot C shows high image quality, but all the parking lanes are full of vehicles. This experiment thus involves different image qualities, lane types, and vehicle distribution patterns; these correspond to the challenges described at the beginning of this paper. Evaluation of Parking Line Extraction

To check the effectiveness of parking line extraction with principal orientation constraints, we compared this method to the traditional Hough transform. As shown in Figure 5a, 5e, and 5i, lines are extracted using traditional Hough transform for parking lots A, B, and C; there are 252, 204, and 252 lines, respectively. Figure 5b, 5f, and 5j are the lines extracted with principal orientation constraints; there are 138, 90, and 64 lines, respectively. It is obvious that line segments extracted with principal orientation constraints have strong directionality in accordance with the orientation of actual parking lines, while line segments extracted by traditional Hough transform are relatively disordered. Significantly, all the parking lines extracted using traditional Hough transform are successfully extracted using principal orientation constraints. Moreover, compared to traditional Hough transform, the proposed method obtains more useful lines of better integrity, as shown by the dotted oval in Figure 5.
Figure 5c, 5g, and 5k are the parking lines detected using

Figure 5. Evaluation of extracted parking lines: (a) Lines detected using traditional Hough transform in Parking Lot A, (b) Lines detected using principal orientation constraints in Parking Lot A, (c) Selected parking lines with traditional Hough transform in Parking Lot A, (d) Selected parking lines with principal orientation constraints in Parking Lot A, (e) Lines detected using traditional Hough transform in Parking Lot B, (f) Lines detected using principal orientation constraints in Parking Lot B, (g) Selected parking lines with traditional Hough transform in Parking Lot B, (h) Selected parking lines with principal orientation constraints in Parking Lot B, (i) Lines detected using traditional Hough transform in Parking Lot C, (j) Lines detected using principal orientation constraints in Parking Lot C, (k) Selected parking lines with traditional Hough transform in Parking Lot C, and (l) Selected parking lines with principal orientation constraints in Parking Lot C.

156 Februar y 2014

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

Region Parking
lot A Parking
lot B Parking
lot C

Table 1. Comparisons Between Max Value Method And The Proposed Method

Method

Correct number

False number

Real number

Correctness Completeness

Traditional Hough transform

20

0

36 100%

Principal orientation 28 1 36 97%

56% 78%

Traditional Hough transform

18

0

51 100%

Principal orientation 31 0 51 100%

35% 61%

Traditional Hough transform

34

0

54 100%

Principal orientation 38 1 54 98%

63% 70%

Table 2. Evaluation of Parameters of Parking Lot Structure Extraction

Parking lot A

Parking lot B

Parking lot C

Orientation

1 12

1

Length (m)

5.28 6.51 5.6

5.03

Length error (m)

0.16

0.21 0.13

0.03

Parking

Width (m)

2.47 2.72 2.79

space Width error (m) 0.03 0.03 0.04

2.65 0.05

Angle (°)

147.6

123.5 19.3

110.9

Angle error (°) 0.3 0.5 0.8

0.2

Angle (°)

58.8 71.9 73.5

20.2

Parking Angle error (°) lane

Lane 1

0.5 Lane
2

Lane 3

1.4 0.9

0.3

Lane Lane Lane Lane Lane Lane 1 21234

Location error 0.08 052 0.22 0.22 0.21 0.02 0.11 0.07 0.11

Lane 5
0.04

Lane 6
0.06

traditional Hough transform. Figure 5d, 5h, and 5l are the parking lines detected using principal orientation constraints. In order to evaluate the detection results, the detected lines are overlaid on the orthophotos. The offset between the detected parking lines and the actual parking lines is measured. If the offset measures less than 5° and the distance offset is less than 0.3 m, the extracted parking line is considered to be accurate.
Table 1 lists the statistics of this extraction. It is clear that the proposed method can extract parking lines more accurately than the traditional Hough transform. Evaluation on the Parameters of Parking Lot Structure Table 2 lists the parameters calculated using the proposed method. The parking spaces in parking lot A are 5.28 m in length, 2.47 m in width, and 147.6°, with parking lanes being 58.8°. Parking lot B has two orientations; parking spaces in the upper parking lane are 6.51 m in length, 2.72 m in width, and 123.5° with parking lane being 71.9°, while parking spaces in the below parking lane are 5.6 m in length, 2.79 m in width, and 19.3°with the parking lane being 73.5°. Parking spaces in parking lot C are 5.03 m in length, 2.65 m in width, and 110.9° with the parking lane being 20.2°. The errors in the calculated parameters were obtained by comparison with the actual measured parameters. As Table 2 indicates, these errors were relatively small, especially when compared to the dimensions of the lanes themselves. As to parking lot A, the errors of parking space width, length, orientation, and parking lane orientation are quite small. The location errors of its three parking lanes are 0.08 m, 0.52 m, and 0.22 m, respectively. The error of the second lane is relatively larger;

however as the distance between neighboring parking lanes are usually much larger than the error, it is still acceptable. As to parking lot B and C, all the errors are quite small with parameters of high accuracy. Evaluation on the Correctness and Completeness To check the effectiveness of the self-adaptive method, the proposed method (principal orientation with self-adaptive growth) is compared to the no-growth method, which uses the traditional Hough transform without self-adaptive growth. Figure 6 shows the comparison. Figure 6a, 6b, and 6c shows the results obtained using the proposed method. Figure 6d, 6e, and 6f show the results using the no-growth method.
In order to evaluate the results quantitatively, we define three indices: correctness, completeness, and geometric accuracy. Correctness is the ratio between the number of correctly extracted parking spaces and the total number of extracted parking spaces. Completeness represents the ratio between correctly extracted parking spaces and total real parking spaces. The following rules are used to define the correct parking space:

    D <

L1 - L2 < 0.2* L2 W1 -W2 < 0.2*W2
(0.2* L2 )2 + (0.2*W2 )2

(1)

 

a<3



PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

February 2014

157

Figure 6. Parking lot structure determination: (a) The determined structures in Parking lot A using proposed method, (b) The determined structures in Parking lot B using proposed method, (c) The determined structures in Parking lot C using proposed method, (d) The determined structures in Parking lot A using the no-growth method (dotted lines refer to the wrong structures), (e) The determined structures in Parking lot B using the no-growth method (dotted lines refer to the wrong structures), and (f) The determined structures in Parking lot C using the no-growth method.

Table 3. Correctness and Completeness of the Determined Parking Lot Structure

Method

Parking lot A Parking lot B Parking lot C

True

Proposed method

34

48

56

No-growth method

33

32

56

Wrong

Proposed method No-growth method

0 1

0 16

0 0

Correctness

Proposed method No-growth method

100% 97%

100% 67%

100% 100%

Completeness

Proposed method No-growth method

100% 97%

100% 67%

100% 100%

wpahrekriengL1spanacdeW, r1esrepfeecrtitvoetlhye; width of real parking space;

length and width of the extracted LD2 raenpdreWse2nrtesfethr etodtihstealnecnegbthe-and

tween the central points of parking spaces; and a is the angle

between their parking lines.

Table 3 shows the correctness and completeness of the

extracted parking lot structure using the two methods. The

proposed method obtains parking lot structure with extremely

high correctness and completeness, with each index reaching

100 percent, while errors exist in the structure obtained from

the no-growth method.

Figure 6d shows the extracted parking lot structure using

the no-growth method. At the top left of parking lane 1 (dot-

ted lines), a parking space is deemed to be wrong owing to the

substantial error. Figure 6e shows the extracted structure of

parking lot B, where there are many incorrect parking spaces

with only 67 percent correctness and completeness. At the bottom left (dotted lines) of Figure 6e, we find several erroneous parking spaces. This is because there exists an abnormal parking space whose width exceeds the normal width; without the self-adaptive growth strategy, the no-growth method is unable to rectify the error flexibly. A certain number of incorrect results also exist in parking lane 2, because of the fact that too few parking lines are extracted using the no-growth method. By comparison, the proposed method achieves parking lot structure with higher correctness and completeness. Evaluation of Geometric Accuracy In order to evaluate the geometric accuracy of the extracted parking spaces, 20 parking spaces are selected and the error vectors of their four corner points are constructed. Figure 7

158 Februar y 2014

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

Figure 7. Geometric accuracy of extracted parking spaces (each error line is enlarged five times): (a) Parking lot A using proposed approach, (b) Parking lot B using proposed approach, (c) Parking lot C using proposed approach, (d) Parking lot A using no-growth method, (e) Parking lot B using no-growth method, and (f) Parking lot C using no-growth method.

Method Parking lot A Parking lot B Parking lot C

Table 4. Geometric Accuracy Comparison

Mean error

Root mean square error

Proposed No-growth Proposed No-growth

0.28 0.43 0.16 0.27

0.34 0.50 0.20 0.22

0.09 0.18 0.04 0.10

Maximum error Proposed No-growth
0.61 0.96 0.73 0.90 0.20 0.41

shows the error vectors of our three parking lots. Figure 7 shows the error vectors obtained using the proposed method and the no-growth method; the gray rectangles are the extracted parking spaces, and the gray lines are the error vectors (enlarged five times for display).
Table 4 compares the proposed method and the no-growth method in terms of mean error, root mean square error (RMSE), and maximum error, showing that the proposed method has relatively high positioning accuracy. As we can see, the average positioning errors of the three parking lots are 0.28 m, 0.34 m, and 0.09 m, respectively, using the proposed method. Correspondingly, those errors using the no-growth method are 0.43 m, 0.5 m, and 0.18 m. The average error using the proposed method is obviously smaller than the other method. Meanwhile, the RMSE and the maximum error using the proposed method are also smaller than that using the other method. In conclusion, parking space extracted with the proposed method has a relatively high positioning accuracy.
Conclusions
This paper proposes a method for automatically extracting parking lot structures, and describes the experimental verification of the method. The following conclusions are drawn:

 1. The parking line detection method with principal orientation constraints can effectively extract parking lines. Compared to the maximum value method, the proposed method extracts parking lines of higher correctness and completeness. Therefore, the proposed method can offer more reliable information for the subsequent parking lot structure determination.
 2. Our method of determining parking lot structure, including a maximum-intersection orientation method and a self-adaptive growth method, can achieve parking lot structure with higher correctness, higher completeness, and high geometric accuracy, compared to the maximum value method without self-growth process.
 3. The proposed method is robust to images of poor quality, dramatic illumination variations, serious vehicle occlusion, and shadow effects, thus lending itself to a wide range of applications.
Despite the positive results, more work deserves to be researched in the future. First, this paper focuses on the utilization of extracted parking lines for parking lot structure. Actually, the parked vehicle can also act as useful information for parking lot structure extraction, especially in parking lots full of vehicles. So, a further topic is to make full use of both parking lines and vehicles for parking lot structure. Second, due to the fact that parking lot extraction work is based on

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

February 2014

159

the assumption that an accurate parking lot area is known, an accurate parking lot area is fundamental. So, the additional further topic will be focused on understanding the image for identifying parking lot area.
Acknowledgments
This work is supported by the National Natural Science Foundation of China (Grant No. 41371017, 41001238), the National Key Technology R&D Program of China (Grant No. 2012BAH28B02). Sincere thanks are given for the comments and contributions of anonymous reviewers and members of the editorial team.
References
Amarasinghe, D., G.K.I Mann, and R.G. Gosine, 2007. Vision-based hybrid control scheme for autonomous parking of a mobile robot, Advanced Robotics, 21(8):905­930.
Benz, U.C., P. Hofmann, G. Willhauck, I. Lingenfelder, and M. Heynen, 2004. Multi-resolution, object-oriented fuzzy analysis of remote sensing data for GIS-ready information, ISPRS Journal of Photogrammetry and Remote Sensing, 58(3):239­258.
Cheng, L., J. Gong, M. Li, and Y. Liu, 2011. 3D building model reconstruction from multi-view aerial imagery and lidar data, Photogrammetric Engineering & Remote Sensing, 77(2):125­139.
Davis, A.Y., B.C. Pijanowski, K.D. Robinson, and P.B. Kidwell, 2010a. Estimating parking lot footprints in the Upper Great Lakes Region of the USA, Landscape Urban Planning, 96(2):68­77.
Davis, A.Y., B.C. Pijanowski, K. Robinson, and B. Engel, 2010b. The environmental and economic costs of sprawling parking lots in the United States, Land Use Policy, 27(2):255­261.
Delucchi, M.A., 1997. The annualized social cost of motor-vehicle use in the US, 1990­1991: Summary of theory, data, methods, and results, Citeseer.
Fischler, M.A., and R.C, Bolles, 1981. Random sample consensus: A paradigm for model fitting with applications to image analysis and automated cartography, Communications of the ACM, 24(6):381­395.
Franco, S., B. Cutter, and A. Dewoody, 2010. Do parking requirements significantly increase the area dedicated to parking? A test of the effect of parking requirements values in Los Angeles County, Transportation Research, 46(6):901­925.
Gómez-Bravo, F., F. Cuesta, and A. Ollero, 2001. Parallel and diagonal parking in nonholonomic autonomous vehicles, Engineering Applications of Artificial Intelligence, 14(4):419­434.
Hahn, H.H., and R. Pfeifer, 1994. The contribution of parked vehicle emissions to the pollution of urban run-off, Science of the Total Environment, 146/147:525­533.
Hastie, T., and R. Tibshirani, 1996. Discriminant adaptive nearest neighbor classification, IEEE Transactions on Pattern Analysis and Machine Intelligence, 18(6):607­616.
Jakle, J.A.,and K.A. Sculle, 2004. Lots of Parking: Land Use in a Car Culture, University of Virginia Press.

Lee, S. and R.G. Lathrop, 2006. Subpixel analysis of Landsat ETM+ using self-organizing map (SOM) neural networks for urban land cover characterization, IEEE Transactions on Geoscience and Remote Sensing, 44(6):1642­1654.
Li, T.H.S., and S.J. Chang, 2003. Autonomous fuzzy parking control of a car-like mobile robot, IEEE Transactions on Systems, Man, and Cybernetics, 33(4):451­465.
Meng, X., N. Currit, and L. Wang, 2012. Detect residential buildings from lidar and aerial photographs through object-oriented land-use classification, Photogrammetric Engineering & Remote Sensing, 78(1):35­44.
Mohammadzadeh, A., and M. Zoej, 2010. A self-organizing fuzzy segmentation (SOFS) method for road detection from high resolution satellite images, Photogrammetric Engineering & Remote Sensing, 76(1):27­35.
Onishi, A., X. Cao, T. Ito, F. Shi, and H. Imura, 2010. Evaluating the potential for urban heat-island mitigation by greening parking lots, Urban Forestry & Urban Greening, 9(4):323­332.
Scoggins, M., N.L. Mcclintock, L. Gosselink, and P. Bryer, 2007. Occurrence of polycyclic aromatic hydrocarbons below coal-tarsealed parking lots and effects on stream benthic macroinvertebrate communities, Journal of the North American Benthological Society, 26(4):694­707.
Seo, Y.W., and C. Urmson, 2009. Utilizing prior information to enhance self-supervised aerial image analysis for extracting parking lot structures, Proceedings of IEEE Conference on Intelligent Robots and Systems, pp. 339­344.
Seo, Y.W., N. Ratliff, and C. Urmson, 2009. Self-supervised aerial image analysis for extracting parking lot structure, Proceedings of International Joint Conference on Artificial Intelligence, pp. 1837­1842.
Shoup, D.C., 1997. The high cost of free parking, Journal of Planning Education and Research, 17(1):3­20.
Wang, X., and A.R. Hanson, 1998. Parking lot analysis and visualization from aerial images, Proceedings of Fourth IEEE Workshop on Applications of Computer Vision, Princeton, New Jersey, pp. 36­41.
Weng, Q., U. Rajasekar, and X. Hu, 2011. Modeling urban heat islands and their relationship with impervious surface and vegetation abundance by using ASTER images, IEEE Transactions on Geoscience and Remote Sensing, 69(10):4080­4089.
Xian, G., and M. Crane, 2006. An analysis of urban thermal characteristics and associated land cover in Tampa Bay and Las Vegas using Landsat satellite data, Remote Sensing of Environment, 104(2):147­156.
Yamada, K., and M. Mizuno, 2001. A vehicle parking detection method using image segmentation, Electronics and Communications in Japan, 84(10):25­34.
Yang, B., L. Fang, and Q. Li, 2012. Automated extraction of road markings from mobile lidar point clouds, Photogrammetric Engineering & Remote Sensing, 78(4):331­338.
Youn, J., J. Bethel, and E. Mikhail, 2008. Extracting urban road networks from high-resolution true orthoimage and lidar, Photogrammetric Engineering & Remote Sensing, 74(2):227­237.
(Received 05 February 2013; accepted 25 August 2013; final version 28 August 2013)

160 Februar y 2014

PHOTOGRAMMETRIC ENGINEERING & REMOTE SENSING

